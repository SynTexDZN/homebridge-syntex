<html>
	<body ontouchstart="">
		<div id="content">
			<title>Basic: Demo</title>
			<script type="module">

				import { PageManager } from '/js/page-manager.js';

				window.PageManager = PageManager;

				PageManager.setHeader('Overlay', 'Examples');

                var main = document.createElement('input');

				main.setAttribute('type', 'button');
				main.setAttribute('value', '%menu.back%');
				main.setAttribute('onclick', 'Essentials.leavePage(' + "'/debug'" + ')');

				PageManager.setFooter(main);

                var remove = document.createElement('input');

				remove.setAttribute('type', 'button');
				remove.setAttribute('value', '-');
				remove.setAttribute('onclick', 'PageManager.removeFooter("test2")');
                remove.setAttribute('style', 'margin-bottom: 20px');

				PageManager.addFooter(remove);

				var add = document.createElement('input');

				add.setAttribute('type', 'button');
				add.setAttribute('value', '+');
				add.setAttribute('onclick', 'addExample()');
				add.setAttribute('style', 'margin-bottom: 20px');

				PageManager.addFooter(add);

				PageManager.showFooter();

			</script>
			<div class="main" style="margin-bottom: 100px">
				<h1>Overlay</h1>
                <button onclick="openExample()">Open</button>
			</div>
			<script type="module" defer>

				import { Query } from '/js/query.js';
				import { Essentials } from '/js/essentials.js';
                import { Preloader } from '/js/loading.js';

				Query.SETUP(Essentials);
				Essentials.SETUP(Query, Preloader);

				window.Query = Query;
				window.Essentials = Essentials;
                window.Preloader = Preloader;

				Preloader.finish();

			</script>
			<script>

                function openExample()
                {
                    var dialogue = {
                        title : 'Demo',
                        subtitle : 'Ein Beispiel für ein Dialogfenster',
                        buttons : [
                            {
                                text : 'Abbrechen',
                                close : true,
                                action : () => console.log('Abbrechen')
                            },
                            {
                                text : 'OK',
                                color : 'green',
                                close : true,
                                action : () => console.log('OK')
                            }
                        ]
                    };

                    Essentials.openDialogue(dialogue);
                }

                function openExample()
                {
                    var dialogue = {
                        title : 'Achtung',
                        subtitle : 'Willst du dein Gerät wirklich entfernen?',
                        buttons : [
                            {
                                text : 'Abbrechen',
                                close : true,
                                action : () => console.log('Abbrechen')
                            },
                            {
                                text : 'Löschen',
                                color : 'red',
                                close : true,
                                action : () => console.log('OK')
                            }
                        ]
                    };

                    Essentials.openDialogue(dialogue);
                }

                function addExample()
				{
					var main2 = document.createElement('input');

					main2.setAttribute('type', 'button');
					main2.setAttribute('value', 'Example');
					main2.setAttribute('id', 'test2');
					main2.setAttribute('style', 'margin-bottom: 20px');

					PageManager.addFooter(main2);
					PageManager.showFooter();
				}

			</script>
		</div>
	</body>
</html>