<html>
	<body ontouchstart="">
		<div id="content">
			<title>%menu.debug%: %menu.beta%</title>
			<script type="module">

				import { PageManager } from '/js/page-manager.js';

				window.PageManager = PageManager;

				PageManager.setHeader('%menu.debug%', 'Beta Programm');

				var main = document.createElement('div');

				main.style.display = 'flex';

				main.innerHTML = '<input type="button" value="%menu.back%" onclick="Essentials.leavePage(' + "'/debug'" + ')"><div style="display: block; width: 100%; margin-left: 20px"><input id="save-btn" type="submit" form="config-editor" value="%general.save%"></div>';

				PageManager.setFooter(main);
				PageManager.showFooter();

			</script>
			<div id="beta" class="main">
				<div class="type-container" style="margin: 100px auto; width: 500px">
					<h2 class="title-container">Beta Zugang</h2>
					<input value="%general.loading% .." id="beta-active" type="button" class="outline loading-loop" onclick="switchBeta(this)" style="border-width: 3px">
				</div>
			</div>
			<script type="module">

				window.tag = '<%tag%>';

				if(tag != 'null' && tag != 'undefined')
				{
					if(tag == 'beta')
					{
						document.getElementById('beta-active').className = 'white';
						document.getElementById('beta-active').value = '%characteristics.boolean.active%';
					}
					else
					{
						document.getElementById('beta-active').value = '%characteristics.boolean.inactive%';
					}
				}

				Preloader.finish();
			
			</script>
			<script>

				function switchBeta(btn)
				{
					var enable = false;

					if(btn.hasAttribute('class') && btn.getAttribute('class') == 'white')
					{
						btn.setAttribute('class', 'outline');
						btn.setAttribute('value', '%characteristics.boolean.inactive%');
					}
					else
					{
						btn.setAttribute('class', 'white');
						btn.setAttribute('value', '%characteristics.boolean.active%');

						enable = true;
					}

					Query.complexFetch('/serverside/beta?enable=' + enable, 5000, 2, {}, true);
				}
			
			</script>
		</div>
	</body>
</html>