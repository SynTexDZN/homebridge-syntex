<html>
	<body ontouchstart="">
		<div id="content">
			<title>Debug: Systemlog</title>
			<script type="module">

				import { PageManager } from '/js/page-manager.js';

				window.PageManager = PageManager;

				PageManager.setHeader('Debug', 'Systemlog');

			</script>
			<div id="config" class="main">
				<div class="main" style="margin-bottom: 20px; display: flex">
					<input class="white" type="button" value="WORKAROUND" onclick="Essentials.leavePage('/debug')" style="margin-right: 20px">
					<input class="white" type="button" value="STYLE" onclick="Essentials.leavePage('/debug/style')">
				</div>
				<div class="main" style="margin-top: 10px; margin-bottom: 20px; display: flex">
					<input class="white" type="button" value="COMMAND" onclick="Essentials.leavePage('/debug/terminal')" style="margin-right: 20px">
					<input class="white" type="button" value="CONFIG" onclick="Essentials.leavePage('/debug/config')">
				</div>
				<div class="main" style="margin-top: 10px; margin-bottom: 20px; display: flex">
					<input class="white" type="button" value="SYSLOG" onclick="Essentials.leavePage('/debug/backup')" style="margin-right: 20px" disabled>
					<input class="white" type="button" value="BETA" onclick="Essentials.leavePage('/debug/beta')">
				</div>
				<p style="margin: 100px 0">Im Systemlog werden<br>alle Log Nachrichten<br>komplett gespeichert!</p>
				<textarea class="loading-loop" style="white-space: break-spaces; max-height: 600px; height: 600px" id="syslog">Laden ..</textarea>
				<div class="navigation-panel">
					<div class="sticky-inset" style="display: grid; grid-gap: 20px">
						<input type="button" value="ZurÃ¼ck zur Bridge" style="margin-right: 20px" onclick="Essentials.leavePage('/bridge')">
					</div>
				</div>
			</div>
			<script type="module">

				import { Query } from '/js/query.js';
				import { Essentials } from '/js/essentials.js';
	
				Query.SETUP(Essentials);
				Essentials.SETUP(Query, Preloader);
			
				window.Query = Query;
				window.Essentials = Essentials;

                loadSysLog();

				Preloader.finish();
			
			</script>
			<script>

				function loadSysLog()
                {
                    Query.complexFetch('/serverside/syslog', 10000, 2, {}, false).then((logs) => {

                        document.getElementById('syslog').value = logs;
                    });
                }
			
			</script>
		</div>
	</body>
</html>