<html>
    <title>Dashboard: Log</title>
    <body>
        <h1 style="margin-bottom: 0; margin-top: 32px">Dashboard</h1>
        <div class="main" style="margin-top: 10px; margin-bottom: 32px; display: table">
            <p style="margin-bottom: 100px; margin-top: 16px">Log</p>
            <div class="main" style="margin-top: 10px; margin-bottom: 20px; display: flex">
                <input class="white" type="button" value="GerÃ¤te" onclick="window.location.href='/'" style="margin-right: 20px">
                <input class="white" type="button" value="Bridge" onclick="window.location.href='/bridge'">
            </div>
            <div class="main" style="margin-top: 10px; margin-bottom: 100px; display: flex">
                <input class="white" type="button" value="Log" onclick="window.location.href='/log'" disabled>
            </div>
            <div class="main" style="margin-bottom: 100px">
                <textarea id="log" style="margin-bottom: 100px"></textarea>
            </div>
        </div>
    </body>
</html>
<script>

    var logJSON = JSON.parse('<%log%>');

    console.log(logJSON);

    for(var i = 0; i < logJSON.length; i++)
    {
        var element = document.createElement('div');

        element.setAttribute('level', logJSON[i].split('[')[1].split(']')[0]);
        element.setAttribute('class', 'white');
        element.innerHTML = logJSON[i];

        if(i != logJSON.length - 1)
        {
            element.setAttribute('style', 'margin-bottom: 20px');
        }

        document.getElementById('log').appendChild(element);
    }

</script>